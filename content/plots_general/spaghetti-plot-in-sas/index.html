---
title: Spaghetti plot in SAS
author: Lukas D. Sauer
date: '2022-07-15'
slug: spaghetti-plot-in-sas
categories:
  - SAS
tags:
  - spaghetti-plot
  - longitudinal-data
  - sgplot
thumbnailImagePosition: left
thumbnailImage: ./plots_general/spaghetti-plot-in-sas/fig/spaghetti_plot.png
showSocial: false
---



<!-- Load all necessary libraries -->
<!-- Add an explanation -->
<p>With the following code, you can generate a spaghetti plot in SAS. This is useful for showing longitudinal data of different group or individual patients. The example plot is grouped by several different variables:</p>
<ul>
<li><code>group=</code>: individual lines, e.g. data of one individual patients,</li>
<li><code>grouplc=</code>: line colours, e.g. treatment group, and</li>
<li><code>grouplp=</code>: line pattern, e.g. belonging to the per-protocol set or not.</li>
</ul>
<!-- Load the code from an external file -->
<p>It is generated by the SAS procedure <code>proc sgplot</code> using the code below:</p>
<pre class="sashtml"><code>* Define library name (&quot;.&quot; is the current directory);
libname mylib &quot;.&quot;;
* Filter relevant data;
data orsales;
set sashelp.orsales;
where (Product_Line = &quot;Sports&quot; or Product_Line = &quot;Children&quot;)
and (Product_Category = &quot;Children Sports&quot;
     or Product_Category = &quot;Team Sports&quot;
     or Product_Category=&quot;Racket Sports&quot;);
run;
* Generate spaghetti plot and save in .\fig\-subfolder.;
ods _all_ close;
ods listing gpath=&quot;%sysfunc(pathname(mylib))\fig&quot;;
ods graphics / imagename=&quot;spaghetti_plot&quot;
               imagefmt=png reset=index;
proc sgplot data=orsales;
   title &#39;Development of profit in different products&#39;;
   series x=Quarter y=Profit/ group=Product_Group
               grouplc=Product_Line
               grouplp=Product_Category name=&#39;grouping&#39;;
   keylegend &#39;grouping&#39; / type=linecolor title=&quot;Product line&quot;;
   keylegend &#39;grouping&#39; /
                 type=linepattern title=&quot;Product Category&quot;;
   xaxis label=&quot;Quarter&quot;;
   yaxis label=&quot;Profit [$]&quot;;
run;</code></pre>
<!-- Show the plot -->
<div class="figure">
<img src="fig/spaghetti_plot.png" alt="" />
<p class="caption">Spaghetti plot as generated by the SAS procedure sgplot</p>
</div>
